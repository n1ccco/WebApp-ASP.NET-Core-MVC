@model IEnumerable<Post>

@functions {
	public string Truncate(string value, int length)
	{
		if (value.Length <= length)
		{
			return value;
		}
		else
		{
			return value.Substring(0, length) + "...";
		}
	}
}
@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
	<div class="container">
		<div class="row">
			@foreach (var post in Model)
			{
				<div class="col-md-4 mb-4">
					<div class="card h-100">
						<div class="card-body d-flex flex-column">
							<h5 class="card-title">@post.Title</h5>
							<p class="card-text flex-grow-1">@Truncate(post.Body, 100)</p>
							<a asp-controller="Posts" asp-action="Details" asp-route-id="@post.Id" class="btn btn-sm btn-primary align-self-center">Read more</a>
						</div>
						<div class="card-footer">
							<small class="text-muted">Автор: @post.Author.Username</small>
						</div>
					</div>
				</div>
			}
		</div>
	</div>
</div>
